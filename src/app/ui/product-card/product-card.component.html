<div class="card">
  <div class="image-gallery">
    <button class="prev" (click)="prevImage()">&#10094;</button>
    <img [src]="product.images[currentImageIndex]" [alt]="product.name" />
    <button class="next" (click)="nextImage()">&#10095;</button>
  </div>
  <h3>{{ product.name }}</h3>
  <p class="price">${{ product.price }}</p>
  <p class="desc">{{ product.description }}</p>
  <div class="color-selector" *ngIf="product.colors">
    <span
      *ngFor="let color of product.colors"
      class="color-option"
      [style.background-color]="color.name.toLowerCase()"
      (click)="selectColor(color)"
      [class.selected]="color === selectedColor"
    ></span>
  </div>
  <div class="size-selector" *ngIf="product.sizes">
    <select [(ngModel)]="selectedSize">
      <option value="">Select size</option>
      <option *ngFor="let size of product.sizes" [value]="size">
        {{ size }}
      </option>
    </select>
  </div>
  <div class="buttons">
    <button (click)="addToCart()">Add to cart</button>
    <a
      *ngIf="product.amazonLink"
      [href]="product.amazonLink"
      target="_blank"
      rel="noopener noreferrer"
      class="amazon-link"
      (click)="notifyAmazonLinkClick()"
    >
      View on Amazon
    </a>
  </div>
</div>
